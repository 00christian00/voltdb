
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>VoltDB Catalog Report</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="http://assets.voltdb.com/b/css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .invert {
        background-color: #0079BB;
      }
      td.invert>p {
        color: white;
      }
      td.invert>p>a {
        color: #eeeeee;
      }
      .table th.right-cell, .table td.right-cell {
		text-align: right;
      }
      .table th.calculated-cell, .table td.calculated-cell {
        font-weight: bold;
        background-color: #e6ebf0;
      }
      .table th.min-max-header {
        font-size: smaller;
      }
      td.table-view-name {
        font-weight: bold;
      }
      table.size-summary-table {
        width: auto;
      }
      input.count-input {
        width: 100px;
        text-align: right;
      }
    </style>
    <link href="http://assets.voltdb.com/b/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="http://assets.voltdb.com/t/css/theme.bootstrap.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://assets.voltdb.com/b/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="../assets/ico/favicon.png">
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="#o">VoltDB Catalog Report</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li id='o-nav'> <a href="#o">Overview</a></li>
              <li id='s-nav'> <a href="#s">Schema</a></li>
              <li id='p-nav'> <a href="#p">Procedures &amp; SQL</a></li>
              <li id='r-nav'> <a href="#r">System Report</a></li>
              <li id='z-nav'> <a href="#z">Size Worksheet</a></li>
              <li id='d-nav'> <a href="#d">DDL Source</a></li>
            
              <li id='m-nav'> <a href='/memory/'>Memory Report</a></li>
            
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container">

        <div id='o' class='reportpage'>
            <a name='o'></a><h1>Overview</h1><br/>
            <div class='well text-center' style='font-size: 18px;'>
                <p>This report was generated by the VoltDB compiler. It shows the
                <a href='#s'>schema</a> and <a href='#p'>procedures</a> that comprise a
                compiled VoltDB application catalog.</p>
            
                <p>Use <strong><a href='/studio/'> VoltDB Studio</a></strong><small><a href='/studio/'> (/studio/)</a></small> to issue SQL queries and call stored procedures against the database. </p>
            
            </div><br/>

            <h4>System Overview</h4>
<p><table class='table table-condensed'>
<tr><td>Mode                     </td><td>RUNNING</td><td>
<tr><td>VoltDB Version           </td><td>4.5</td><td>
<tr><td>Buildstring              </td><td>voltdb-4.5-0-g829d737-local</td><td>
<tr><td>Cluster Composition      </td><td>2 hosts  with 8 sites  (4 per host)</td><td>
<tr><td>Running Since            </td><td>Thu Aug 21 16:07:28 GMT+00:00 2014 (4d 16h 42m)</td><td>
</table>
</p><br/>

            <h4>Catalog Overview Statistics</h4>
            <table class='table table-condensed'>
<tr><td>Compiled by VoltDB Version</td><td>4.5</td></tr>
<tr><td>Compiled on</td><td>Mon, 28 Jul 2014 20:21:15 GMT+00:00</td></tr>
<tr><td>Table Count</td><td>3 (1 partitioned / 2 replicated)</td></tr>
<tr><td>Materialized View Count</td><td>2</td></tr>
<tr><td>Index Count</td><td>4</td></tr>
<tr><td>Procedure Count</td><td>5 (1 partitioned / 4 replicated) (3 read-only / 2 read-write)</td></tr>
<tr><td>SQL Statement Count</td><td>10</td></tr>
</table>


        </div>

        <div id='s' class='reportpage' style='display: none;'>
          <a name='s'></a><h1>Schema</h1><br/>

          <table class="table tableL1 tablesorter" id='schematable'>
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Partitioning</th>
                    <th>Columns</th>
                    <th>Indexes</th>
                    <th>PKey</th>
                    <th>TupleLimit</th>
                </tr>
                </thead>
                <tbody>
                <tr class='primaryrow'><td style='white-space: nowrap;'><i id='s-area_code_state--icon' class='icon-chevron-right'></i> <a href='#' id='s-area_code_state' class='togglex'>AREA_CODE_STATE</a></td><td><span class='label label l-Table'>Table</span></td><td style='whitespace: nowrap;'><span class='label label-warning l-Replicated'>Replicated</span></td><td>2</td><td>1</td><td><span class='label label-info l-Has-PKey'>Has-PKey</span></td><td><span class='label label l-No-limit'>No-limit</span></td></tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='7' id='s-area_code_state--dropdown'>
<p>MISSING DDL</p>
<p>Read-only by procedures: <a href='#p-Initialize'>Initialize</a></p><p>Read/Write by procedures: <a href='#p-Vote'>Vote</a></p>    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Uniqueness</th></tr></thead>
    <tbody>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-area_code_state-voltdb_autogen_constraint_idx_pk_area_code_state--icon' class='icon-chevron-right'></i> <a href='#' id='s-area_code_state-voltdb_autogen_constraint_idx_pk_area_code_state' class='togglex'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_AREA_CODE_STATE</a></td><td>BALANCED_TREE</td><td>AREA_CODE</td><td><span class='label label-important l-Unique'>Unique</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-area_code_state-voltdb_autogen_constraint_idx_pk_area_code_state--dropdown'>
<p>Used by procedures: <a href='#p-Vote'>Vote</a></p></td></tr>
    </tbody>
    </table>
</td></tr>
<tr class='primaryrow'><td style='white-space: nowrap;'><i id='s-contestants--icon' class='icon-chevron-right'></i> <a href='#' id='s-contestants' class='togglex'>CONTESTANTS</a></td><td><span class='label label l-Table'>Table</span></td><td style='whitespace: nowrap;'><span class='label label-warning l-Replicated'>Replicated</span></td><td>2</td><td>1</td><td><span class='label label-info l-Has-PKey'>Has-PKey</span></td><td><span class='label label l-No-limit'>No-limit</span></td></tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='7' id='s-contestants--dropdown'>
<p>MISSING DDL</p>
<p>Read-only by procedures: <a href='#p-Initialize'>Initialize</a></p><p>Read/Write by procedures: <a href='#p-Results'>Results</a>, <a href='#p-Vote'>Vote</a></p>    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Uniqueness</th></tr></thead>
    <tbody>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-contestants-voltdb_autogen_constraint_idx_pk_contestants--icon' class='icon-chevron-right'></i> <a href='#' id='s-contestants-voltdb_autogen_constraint_idx_pk_contestants' class='togglex'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_CONTESTANTS</a></td><td>BALANCED_TREE</td><td>CONTESTANT_NUMBER</td><td><span class='label label-important l-Unique'>Unique</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-contestants-voltdb_autogen_constraint_idx_pk_contestants--dropdown'>
<p>Used by procedures: <a href='#p-Results'>Results</a>, <a href='#p-Vote'>Vote</a></p></td></tr>
    </tbody>
    </table>
</td></tr>
<tr class='primaryrow'><td style='white-space: nowrap;'><i id='s-votes--icon' class='icon-chevron-right'></i> <a href='#' id='s-votes' class='togglex'>VOTES</a></td><td><span class='label label l-Table'>Table</span></td><td style='whitespace: nowrap;'><span class='label label-success l-Partitioned'>Partitioned</span><small> on PHONE_NUMBER</small></td><td>3</td><td>0</td><td><span class='label label l-No-PKey'>No-PKey</span></td><td><span class='label label l-No-limit'>No-limit</span></td></tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='7' id='s-votes--dropdown'>
<p>MISSING DDL</p>
<p>Read-only by procedures: <a href='#p-Vote'>Vote</a></p><p>No indexes defined on table.</p>
</td></tr>
<tr class='primaryrow'><td style='white-space: nowrap;'><i id='s-v_votes_by_contestant_number_state--icon' class='icon-chevron-right'></i> <a href='#' id='s-v_votes_by_contestant_number_state' class='togglex'>V_VOTES_BY_CONTESTANT_NUMBER_STATE</a></td><td><span class='label label-info l-Materialized_View'>Materialized View</span></td><td style='whitespace: nowrap;'><span class='label label-success l-Partitioned'>Partitioned</span><small> with VOTES</small></td><td>3</td><td>1</td><td><span class='label label-info l-Has-PKey'>Has-PKey</span></td><td><span class='label label l-No-limit'>No-limit</span></td></tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='7' id='s-v_votes_by_contestant_number_state--dropdown'>
<p><pre>SELECT CONTESTANT_NUMBER,STATE,COUNT(*)FROM VOTES GROUP BY CONTESTANT_NUMBER,STATE</pre></p>
<p>Read/Write by procedures: <a href='#p-ContestantWinningStates'>ContestantWinningStates</a>, <a href='#p-GetStateHeatmap'>GetStateHeatmap</a>, <a href='#p-Results'>Results</a></p>    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Uniqueness</th></tr></thead>
    <tbody>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-v_votes_by_contestant_number_state-matview_pk_index--icon' class='icon-chevron-right'></i> <a href='#' id='s-v_votes_by_contestant_number_state-matview_pk_index' class='togglex'>MATVIEW_PK_INDEX</a></td><td>BALANCED_TREE</td><td>CONTESTANT_NUMBER, STATE</td><td><span class='label label-important l-Unique'>Unique</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-v_votes_by_contestant_number_state-matview_pk_index--dropdown'>
<p>Used by procedures: <a href='#p-ContestantWinningStates'>ContestantWinningStates</a>, <a href='#p-GetStateHeatmap'>GetStateHeatmap</a></p></td></tr>
    </tbody>
    </table>
</td></tr>
<tr class='primaryrow'><td style='white-space: nowrap;'><i id='s-v_votes_by_phone_number--icon' class='icon-chevron-right'></i> <a href='#' id='s-v_votes_by_phone_number' class='togglex'>V_VOTES_BY_PHONE_NUMBER</a></td><td><span class='label label-info l-Materialized_View'>Materialized View</span></td><td style='whitespace: nowrap;'><span class='label label-success l-Partitioned'>Partitioned</span><small> on PHONE_NUMBER</small></td><td>2</td><td>1</td><td><span class='label label-info l-Has-PKey'>Has-PKey</span></td><td><span class='label label l-No-limit'>No-limit</span></td></tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='7' id='s-v_votes_by_phone_number--dropdown'>
<p><pre>SELECT PHONE_NUMBER,COUNT(*)FROM VOTES GROUP BY PHONE_NUMBER</pre></p>
<p>Read/Write by procedures: <a href='#p-Vote'>Vote</a></p>    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Uniqueness</th></tr></thead>
    <tbody>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-v_votes_by_phone_number-matview_pk_index--icon' class='icon-chevron-right'></i> <a href='#' id='s-v_votes_by_phone_number-matview_pk_index' class='togglex'>MATVIEW_PK_INDEX</a></td><td>BALANCED_TREE</td><td>PHONE_NUMBER</td><td><span class='label label-important l-Unique'>Unique</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-v_votes_by_phone_number-matview_pk_index--dropdown'>
<p>Used by procedures: <a href='#p-Vote'>Vote</a></p></td></tr>
    </tbody>
    </table>
</td></tr>

                </tbody>
            </table>
            <a href = '#d'>View the DDL Source</a>
        </div>
        
        <div id='d' class='reportpage' style='display: none;'>
          <a name='d'></a><h1>DDL Source</h1><br/>
          <pre>
CREATE TABLE AREA_CODE_STATE (
   AREA_CODE smallint NOT NULL,
   STATE varchar(2) NOT NULL,
   CONSTRAINT PK_AREA_CODE_STATE PRIMARY KEY (AREA_CODE)
);

CREATE TABLE CONTESTANTS (
   CONTESTANT_NUMBER integer NOT NULL,
   CONTESTANT_NAME varchar(50) NOT NULL,
   CONSTRAINT PK_CONTESTANTS PRIMARY KEY (CONTESTANT_NUMBER)
);

CREATE TABLE VOTES (
   PHONE_NUMBER bigint NOT NULL,
   STATE varchar(2) NOT NULL,
   CONTESTANT_NUMBER integer NOT NULL
);
PARTITION TABLE VOTES ON COLUMN PHONE_NUMBER;

CREATE VIEW V_VOTES_BY_CONTESTANT_NUMBER_STATE (
   CONTESTANT_NUMBER,
   STATE,
   NUM_VOTES
) AS 
   SELECT CONTESTANT_NUMBER,STATE,COUNT(*)FROM VOTES GROUP BY CONTESTANT_NUMBER,STATE;

CREATE VIEW V_VOTES_BY_PHONE_NUMBER (
   PHONE_NUMBER,
   NUM_VOTES
) AS 
   SELECT PHONE_NUMBER,COUNT(*)FROM VOTES GROUP BY PHONE_NUMBER;


CREATE PROCEDURE 
   FROM CLASS voter.procedures.ContestantWinningStates;

CREATE PROCEDURE 
   FROM CLASS voter.procedures.GetStateHeatmap;

CREATE PROCEDURE 
   FROM CLASS voter.procedures.Initialize;

CREATE PROCEDURE 
   FROM CLASS voter.procedures.Results;

CREATE PROCEDURE 
   FROM CLASS voter.procedures.Vote;
PARTITION PROCEDURE Vote ON TABLE VOTES COLUMN PHONE_NUMBER;


</pre>
        </div>

        <div id='p' class='reportpage' style='display: none;'>
          <a name='p'></a><h1>Procedures &amp; SQL</h1><br/>

          <table class="table tableL1 tablesorter" id='proctable'>
                <thead>
                <tr>
                    <th>Procedure Name</th>
                    <th>Parameters</th>
                    <th>Partitioning</th>
                    <th>R/W</th>
                    <th>Access</th>
                    <th>Attributes</th>
                </tr>
                </thead>
                <tbody>
                <tr class='primaryrow'><td style='white-space: nowrap'><i id='p-contestantwinningstates--icon' class='icon-chevron-right'></i> <a href='#p-contestantwinningstates' id='p-contestantwinningstates' class='togglex'>ContestantWinningStates</a></td><td>INTEGER, INTEGER</td><td><span class='label label-warning l-Multi'>Multi</span></td><td><span class='label label-success l-Read'>Read</span></td><td><i>None</i></td><td><span class='label label-info l-Java'>Java</span><span class='label label-important l-Scans'>Scans</span></td></tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='6' id='p-contestantwinningstates--dropdown'>
<p>Read/Write access to tables: <a href='#s-V_VOTES_BY_CONTESTANT_NUMBER_STATE'>V_VOTES_BY_CONTESTANT_NUMBER_STATE</a></p><p>Uses indexes: <a href='#s-V_VOTES_BY_CONTESTANT_NUMBER_STATE-MATVIEW_PK_INDEX'>MATVIEW_PK_INDEX</a></p>    <table class='table tableL2 table-condensed'>
    <thead><tr><th><span style='white-space: nowrap;'>Statement Name</span></th><th>Statement SQL</th><th>Params</th><th>R/W</th><th>Attributes</th></tr></thead>
    <tbody>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='p-contestantwinningstates-resultstmt--icon' class='icon-chevron-right'></i> <a href='#' id='p-contestantwinningstates-resultstmt' class='togglex'>resultStmt</a></td><td><tt>SELECT contestant_number, state, SUM(num_votes) AS num_votes FROM v_votes_by_contestant_number_state GROUP BY contestant_number, state ORDER BY 2 ASC, 3 DESC, 1 ASC;</td></tt><td><i>None</i></td><td><span class='label label-success l-Read'>Read</span></td><td><span class='label label-important l-Scans'>Scans</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='p-contestantwinningstates-resultstmt--dropdown'>
<div class='well well-small'><h4>Explain Plan:</h4>
<tt>RETURN&nbsp;RESULTS&nbsp;TO&nbsp;STORED&nbsp;PROCEDURE<br/>&nbsp;ORDER&nbsp;BY&nbsp;(SORT)<br/>&nbsp;&nbsp;Hash&nbsp;AGGREGATION&nbsp;ops:&nbsp;SUM(VOLT_TEMP_TABLE.column#2)<br/>&nbsp;&nbsp;&nbsp;RECEIVE&nbsp;FROM&nbsp;ALL&nbsp;PARTITIONS<br/>&nbsp;&nbsp;&nbsp;&nbsp;SEND&nbsp;PARTITION&nbsp;RESULTS&nbsp;TO&nbsp;COORDINATOR<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INDEX&nbsp;SCAN&nbsp;of&nbsp;"<a href='#s-V_VOTES_BY_CONTESTANT_NUMBER_STATE'>V_VOTES_BY_CONTESTANT_NUMBER_STATE</a>"&nbsp;using&nbsp;its&nbsp;primary&nbsp;key&nbsp;index&nbsp;(for&nbsp;optimized&nbsp;grouping&nbsp;only)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inline&nbsp;Serial&nbsp;AGGREGATION&nbsp;ops:&nbsp;SUM(V_VOTES_BY_CONTESTANT_NUMBER_STATE.NUM_VOTES)<br/></tt></div>
</td></tr>
    </tbody>
    </table>
</td></tr>
<tr class='primaryrow'><td style='white-space: nowrap'><i id='p-getstateheatmap--icon' class='icon-chevron-right'></i> <a href='#p-getstateheatmap' id='p-getstateheatmap' class='togglex'>GetStateHeatmap</a></td><td><i>None</i></td><td><span class='label label-warning l-Multi'>Multi</span></td><td><span class='label label-success l-Read'>Read</span></td><td><i>None</i></td><td><span class='label label-info l-Java'>Java</span><span class='label label-important l-Scans'>Scans</span></td></tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='6' id='p-getstateheatmap--dropdown'>
<p>Read/Write access to tables: <a href='#s-V_VOTES_BY_CONTESTANT_NUMBER_STATE'>V_VOTES_BY_CONTESTANT_NUMBER_STATE</a></p><p>Uses indexes: <a href='#s-V_VOTES_BY_CONTESTANT_NUMBER_STATE-MATVIEW_PK_INDEX'>MATVIEW_PK_INDEX</a></p>    <table class='table tableL2 table-condensed'>
    <thead><tr><th><span style='white-space: nowrap;'>Statement Name</span></th><th>Statement SQL</th><th>Params</th><th>R/W</th><th>Attributes</th></tr></thead>
    <tbody>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='p-getstateheatmap-resultstmt--icon' class='icon-chevron-right'></i> <a href='#' id='p-getstateheatmap-resultstmt' class='togglex'>resultStmt</a></td><td><tt>SELECT contestant_number, state, SUM(num_votes) AS num_votes FROM v_votes_by_contestant_number_state GROUP BY contestant_number, state ORDER BY 2 ASC, 3 DESC, 1 ASC;</td></tt><td><i>None</i></td><td><span class='label label-success l-Read'>Read</span></td><td><span class='label label-important l-Scans'>Scans</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='p-getstateheatmap-resultstmt--dropdown'>
<div class='well well-small'><h4>Explain Plan:</h4>
<tt>RETURN&nbsp;RESULTS&nbsp;TO&nbsp;STORED&nbsp;PROCEDURE<br/>&nbsp;ORDER&nbsp;BY&nbsp;(SORT)<br/>&nbsp;&nbsp;Hash&nbsp;AGGREGATION&nbsp;ops:&nbsp;SUM(VOLT_TEMP_TABLE.column#2)<br/>&nbsp;&nbsp;&nbsp;RECEIVE&nbsp;FROM&nbsp;ALL&nbsp;PARTITIONS<br/>&nbsp;&nbsp;&nbsp;&nbsp;SEND&nbsp;PARTITION&nbsp;RESULTS&nbsp;TO&nbsp;COORDINATOR<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INDEX&nbsp;SCAN&nbsp;of&nbsp;"<a href='#s-V_VOTES_BY_CONTESTANT_NUMBER_STATE'>V_VOTES_BY_CONTESTANT_NUMBER_STATE</a>"&nbsp;using&nbsp;its&nbsp;primary&nbsp;key&nbsp;index&nbsp;(for&nbsp;optimized&nbsp;grouping&nbsp;only)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inline&nbsp;Serial&nbsp;AGGREGATION&nbsp;ops:&nbsp;SUM(V_VOTES_BY_CONTESTANT_NUMBER_STATE.NUM_VOTES)<br/></tt></div>
</td></tr>
    </tbody>
    </table>
</td></tr>
<tr class='primaryrow'><td style='white-space: nowrap'><i id='p-initialize--icon' class='icon-chevron-right'></i> <a href='#p-initialize' id='p-initialize' class='togglex'>Initialize</a></td><td>INTEGER, STRING</td><td><span class='label label-warning l-Multi'>Multi</span></td><td><span class='label label-warning l-Write'>Write</span></td><td><i>None</i></td><td><span class='label label-info l-Java'>Java</span></td></tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='6' id='p-initialize--dropdown'>
<p>Read-only access to tables: <a href='#s-AREA_CODE_STATE'>AREA_CODE_STATE</a>, <a href='#s-CONTESTANTS'>CONTESTANTS</a></p>    <table class='table tableL2 table-condensed'>
    <thead><tr><th><span style='white-space: nowrap;'>Statement Name</span></th><th>Statement SQL</th><th>Params</th><th>R/W</th><th>Attributes</th></tr></thead>
    <tbody>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='p-initialize-checkstmt--icon' class='icon-chevron-right'></i> <a href='#' id='p-initialize-checkstmt' class='togglex'>checkStmt</a></td><td><tt>SELECT COUNT(*) FROM contestants;</td></tt><td><i>None</i></td><td><span class='label label-success l-Read'>Read</span></td><td></td></tr>
<tr class='dropdown2'><td colspan='5' id='p-initialize-checkstmt--dropdown'>
<div class='well well-small'><h4>Explain Plan:</h4>
<tt>RETURN&nbsp;RESULTS&nbsp;TO&nbsp;STORED&nbsp;PROCEDURE<br/>&nbsp;TABLE&nbsp;COUNT&nbsp;of&nbsp;"CONTESTANTS"<br/></tt></div>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='p-initialize-insertacsstmt--icon' class='icon-chevron-right'></i> <a href='#' id='p-initialize-insertacsstmt' class='togglex'>insertACSStmt</a></td><td><tt>INSERT INTO area_code_state VALUES (?,?);</td></tt><td>SMALLINT, STRING</td><td><span class='label label-warning l-Write'>Write</span></td><td></td></tr>
<tr class='dropdown2'><td colspan='5' id='p-initialize-insertacsstmt--dropdown'>
<div class='well well-small'><h4>Explain Plan:</h4>
<tt>RETURN&nbsp;RESULTS&nbsp;TO&nbsp;STORED&nbsp;PROCEDURE<br/>&nbsp;LIMIT&nbsp;1<br/>&nbsp;&nbsp;RECEIVE&nbsp;FROM&nbsp;ALL&nbsp;PARTITIONS<br/>&nbsp;&nbsp;&nbsp;SEND&nbsp;PARTITION&nbsp;RESULTS&nbsp;TO&nbsp;COORDINATOR<br/>&nbsp;&nbsp;&nbsp;&nbsp;INSERT&nbsp;into&nbsp;"<a href='#s-AREA_CODE_STATE'>AREA_CODE_STATE</a>"<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MATERIALIZE&nbsp;TUPLE&nbsp;from&nbsp;parameters&nbsp;and/or&nbsp;literals<br/></tt></div>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='p-initialize-insertcontestantstmt--icon' class='icon-chevron-right'></i> <a href='#' id='p-initialize-insertcontestantstmt' class='togglex'>insertContestantStmt</a></td><td><tt>INSERT INTO contestants (contestant_name, contestant_number) VALUES (?, ?);</td></tt><td>STRING, INTEGER</td><td><span class='label label-warning l-Write'>Write</span></td><td></td></tr>
<tr class='dropdown2'><td colspan='5' id='p-initialize-insertcontestantstmt--dropdown'>
<div class='well well-small'><h4>Explain Plan:</h4>
<tt>RETURN&nbsp;RESULTS&nbsp;TO&nbsp;STORED&nbsp;PROCEDURE<br/>&nbsp;LIMIT&nbsp;1<br/>&nbsp;&nbsp;RECEIVE&nbsp;FROM&nbsp;ALL&nbsp;PARTITIONS<br/>&nbsp;&nbsp;&nbsp;SEND&nbsp;PARTITION&nbsp;RESULTS&nbsp;TO&nbsp;COORDINATOR<br/>&nbsp;&nbsp;&nbsp;&nbsp;INSERT&nbsp;into&nbsp;"<a href='#s-CONTESTANTS'>CONTESTANTS</a>"<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MATERIALIZE&nbsp;TUPLE&nbsp;from&nbsp;parameters&nbsp;and/or&nbsp;literals<br/></tt></div>
</td></tr>
    </tbody>
    </table>
</td></tr>
<tr class='primaryrow'><td style='white-space: nowrap'><i id='p-results--icon' class='icon-chevron-right'></i> <a href='#p-results' id='p-results' class='togglex'>Results</a></td><td><i>None</i></td><td><span class='label label-warning l-Multi'>Multi</span></td><td><span class='label label-success l-Read'>Read</span></td><td><i>None</i></td><td><span class='label label-info l-Java'>Java</span><span class='label label-important l-Scans'>Scans</span></td></tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='6' id='p-results--dropdown'>
<p>Read/Write access to tables: <a href='#s-CONTESTANTS'>CONTESTANTS</a>, <a href='#s-V_VOTES_BY_CONTESTANT_NUMBER_STATE'>V_VOTES_BY_CONTESTANT_NUMBER_STATE</a></p><p>Uses indexes: <a href='#s-CONTESTANTS-VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_CONTESTANTS'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_CONTESTANTS</a></p>    <table class='table tableL2 table-condensed'>
    <thead><tr><th><span style='white-space: nowrap;'>Statement Name</span></th><th>Statement SQL</th><th>Params</th><th>R/W</th><th>Attributes</th></tr></thead>
    <tbody>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='p-results-resultstmt--icon' class='icon-chevron-right'></i> <a href='#' id='p-results-resultstmt' class='togglex'>resultStmt</a></td><td><tt>SELECT a.contestant_name   AS contestant_name        , a.contestant_number AS contestant_number        , SUM(b.num_votes)    AS total_votes     FROM v_votes_by_contestant_number_state AS b        , contestants AS a    WHERE a.contestant_number = b.contestant_number GROUP BY a.contestant_name        , a.contestant_number ORDER BY total_votes DESC        , contestant_number ASC        , contestant_name ASC;</td></tt><td><i>None</i></td><td><span class='label label-success l-Read'>Read</span></td><td><span class='label label-important l-Scans'>Scans</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='p-results-resultstmt--dropdown'>
<div class='well well-small'><h4>Explain Plan:</h4>
<tt>RETURN&nbsp;RESULTS&nbsp;TO&nbsp;STORED&nbsp;PROCEDURE<br/>&nbsp;ORDER&nbsp;BY&nbsp;(SORT)<br/>&nbsp;&nbsp;Hash&nbsp;AGGREGATION&nbsp;ops:&nbsp;SUM(VOLT_TEMP_TABLE.column#2)<br/>&nbsp;&nbsp;&nbsp;RECEIVE&nbsp;FROM&nbsp;ALL&nbsp;PARTITIONS<br/>&nbsp;&nbsp;&nbsp;&nbsp;SEND&nbsp;PARTITION&nbsp;RESULTS&nbsp;TO&nbsp;COORDINATOR<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hash&nbsp;AGGREGATION&nbsp;ops:&nbsp;SUM(V_VOTES_BY_CONTESTANT_NUMBER_STATE.NUM_VOTES)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NESTLOOP&nbsp;INDEX&nbsp;INNER&nbsp;JOIN<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inline&nbsp;INDEX&nbsp;SCAN&nbsp;of&nbsp;"<a href='#s-CONTESTANTS'>CONTESTANTS</a>"&nbsp;using&nbsp;its&nbsp;primary&nbsp;key&nbsp;index<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uniquely&nbsp;match&nbsp;(CONTESTANT_NUMBER&nbsp;=&nbsp;V_VOTES_BY_CONTESTANT_NUMBER_STATE.CONTESTANT_NUMBER)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SEQUENTIAL&nbsp;SCAN&nbsp;of&nbsp;"<a href='#s-V_VOTES_BY_CONTESTANT_NUMBER_STATE'>V_VOTES_BY_CONTESTANT_NUMBER_STATE</a>"<br/></tt></div>
</td></tr>
    </tbody>
    </table>
</td></tr>
<tr class='primaryrow'><td style='white-space: nowrap'><i id='p-vote--icon' class='icon-chevron-right'></i> <a href='#p-vote' id='p-vote' class='togglex'>Vote</a></td><td>BIGINT, INTEGER, BIGINT</td><td><span class='label label-success l-Single'>Single</span></td><td><span class='label label-warning l-Write'>Write</span></td><td><i>None</i></td><td><span class='label label-info l-Java'>Java</span></td></tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='6' id='p-vote--dropdown'>
<p>Partitioned on parameter 0 which maps to column PHONE_NUMBER of table <a class='invert' href='#s-VOTES'>VOTES</a>.</p><p>Read-only access to tables: <a href='#s-VOTES'>VOTES</a></p><p>Read/Write access to tables: <a href='#s-AREA_CODE_STATE'>AREA_CODE_STATE</a>, <a href='#s-CONTESTANTS'>CONTESTANTS</a>, <a href='#s-V_VOTES_BY_PHONE_NUMBER'>V_VOTES_BY_PHONE_NUMBER</a></p><p>Uses indexes: <a href='#s-AREA_CODE_STATE-VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_AREA_CODE_STATE'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_AREA_CODE_STATE</a>, <a href='#s-CONTESTANTS-VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_CONTESTANTS'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_CONTESTANTS</a>, <a href='#s-V_VOTES_BY_PHONE_NUMBER-MATVIEW_PK_INDEX'>MATVIEW_PK_INDEX</a></p>    <table class='table tableL2 table-condensed'>
    <thead><tr><th><span style='white-space: nowrap;'>Statement Name</span></th><th>Statement SQL</th><th>Params</th><th>R/W</th><th>Attributes</th></tr></thead>
    <tbody>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='p-vote-checkcontestantstmt--icon' class='icon-chevron-right'></i> <a href='#' id='p-vote-checkcontestantstmt' class='togglex'>checkContestantStmt</a></td><td><tt>SELECT contestant_number FROM contestants WHERE contestant_number = ?;</td></tt><td>INTEGER</td><td><span class='label label-success l-Read'>Read</span></td><td></td></tr>
<tr class='dropdown2'><td colspan='5' id='p-vote-checkcontestantstmt--dropdown'>
<div class='well well-small'><h4>Explain Plan:</h4>
<tt>RETURN&nbsp;RESULTS&nbsp;TO&nbsp;STORED&nbsp;PROCEDURE<br/>&nbsp;INDEX&nbsp;SCAN&nbsp;of&nbsp;"<a href='#s-CONTESTANTS'>CONTESTANTS</a>"&nbsp;using&nbsp;its&nbsp;primary&nbsp;key&nbsp;index<br/>&nbsp;&nbsp;uniquely&nbsp;match&nbsp;(CONTESTANT_NUMBER&nbsp;=&nbsp;?0)<br/></tt></div>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='p-vote-checkstatestmt--icon' class='icon-chevron-right'></i> <a href='#' id='p-vote-checkstatestmt' class='togglex'>checkStateStmt</a></td><td><tt>SELECT state FROM area_code_state WHERE area_code = ?;</td></tt><td>SMALLINT</td><td><span class='label label-success l-Read'>Read</span></td><td></td></tr>
<tr class='dropdown2'><td colspan='5' id='p-vote-checkstatestmt--dropdown'>
<div class='well well-small'><h4>Explain Plan:</h4>
<tt>RETURN&nbsp;RESULTS&nbsp;TO&nbsp;STORED&nbsp;PROCEDURE<br/>&nbsp;INDEX&nbsp;SCAN&nbsp;of&nbsp;"<a href='#s-AREA_CODE_STATE'>AREA_CODE_STATE</a>"&nbsp;using&nbsp;its&nbsp;primary&nbsp;key&nbsp;index<br/>&nbsp;&nbsp;uniquely&nbsp;match&nbsp;(AREA_CODE&nbsp;=&nbsp;?0)<br/></tt></div>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='p-vote-checkvoterstmt--icon' class='icon-chevron-right'></i> <a href='#' id='p-vote-checkvoterstmt' class='togglex'>checkVoterStmt</a></td><td><tt>SELECT num_votes FROM v_votes_by_phone_number WHERE phone_number = ?;</td></tt><td>BIGINT</td><td><span class='label label-success l-Read'>Read</span></td><td></td></tr>
<tr class='dropdown2'><td colspan='5' id='p-vote-checkvoterstmt--dropdown'>
<div class='well well-small'><h4>Explain Plan:</h4>
<tt>RETURN&nbsp;RESULTS&nbsp;TO&nbsp;STORED&nbsp;PROCEDURE<br/>&nbsp;INDEX&nbsp;SCAN&nbsp;of&nbsp;"<a href='#s-V_VOTES_BY_PHONE_NUMBER'>V_VOTES_BY_PHONE_NUMBER</a>"&nbsp;using&nbsp;its&nbsp;primary&nbsp;key&nbsp;index<br/>&nbsp;&nbsp;uniquely&nbsp;match&nbsp;(PHONE_NUMBER&nbsp;=&nbsp;?0)<br/></tt></div>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='p-vote-insertvotestmt--icon' class='icon-chevron-right'></i> <a href='#' id='p-vote-insertvotestmt' class='togglex'>insertVoteStmt</a></td><td><tt>INSERT INTO votes (phone_number, state, contestant_number) VALUES (?, ?, ?);</td></tt><td>BIGINT, STRING, INTEGER</td><td><span class='label label-warning l-Write'>Write</span></td><td></td></tr>
<tr class='dropdown2'><td colspan='5' id='p-vote-insertvotestmt--dropdown'>
<div class='well well-small'><h4>Explain Plan:</h4>
<tt>INSERT&nbsp;into&nbsp;"<a href='#s-VOTES'>VOTES</a>"<br/>&nbsp;MATERIALIZE&nbsp;TUPLE&nbsp;from&nbsp;parameters&nbsp;and/or&nbsp;literals<br/></tt></div>
</td></tr>
    </tbody>
    </table>
</td></tr>

                </tbody>
            </table>

        </div>

        <div id='r' class='reportpage' style='display: none;'>
            <h1>System Report</h1><br/>
            <h4>Cluster Platform</h4>
<p><tt>CPU INFO:         1 Cores, 1 Sockets, 1 Hardware Threads<br/>
CPU DESC:         Intel(R) Xeon(R) CPU           E5645  @ 2.40GHz 12288 KB cache<br/>
HOST MEMORY (MB): 3750<br/>
OS PROFILE:       Linux 3.2.0-36-virtual amd64 en_US<br/>
JAVA VERSION:     1.7.0_55<br/>
JAVA RUNTIME:     OpenJDK Runtime Environment (1.7.0_55-b14)<br/>
JAVA VM:          OpenJDK 64-Bit Server VM (24.51-b03, mixed mode)<br/>
</tt></p><br/>

            <h4>VoltDB Compiler Platform:</h4>
            <p><tt>CPU INFO:         4 Cores, 1 Sockets, 8 Hardware Threads<br/>
CPU DESC:         Intel(R) Core(TM) i7 CPU         920  @ 2.67GHz 8192 KB cache<br/>
HOST MEMORY (MB): 12008<br/>
OS PROFILE:       Linux 3.8.0-42-generic amd64 en_US<br/>
JAVA VERSION:     1.7.0_51<br/>
JAVA RUNTIME:     OpenJDK Runtime Environment (1.7.0_51-b00)<br/>
JAVA VM:          OpenJDK 64-Bit Server VM (24.45-b08, mixed mode)<br/>
</tt></p>
        </div>

        <div id='z' class='reportpage' style='display: none;'>
            <a name='z'></a><h1>Estimate Memory Used by User Data</h1><br/>

            <table><tr>

            <td width='60%'>
                This sizing worksheet is designed to help VoltDB application developers
                estimate the amount of memory the user data will require in an application.
                These estimates include user data and most of the per-row data structure
                overhead for that data. Memory use that is not proportional to the amount
                of data (e.g., the Java heap and any temporary buffers
                and caches) is not included.
            </td>

            <td width='*'>
            <small><ul>
                <li>Sizes without units are in bytes.</li>
                <li>For more useful results replace row counts with better estimates.</li>
                <li>All calculated fields update after leaving any input field.</li>
                <li>Warning: Page refresh resets all input fields.</li>
                <li>
                    VARCHAR columns are measured in UTF-8 characters by default. VARCHAR
                    columns of up to 16 characters are stored in-line at 4 bytes per character.
                    Columns of 16 characters or more are stored in pooled memory via pointers.
                </li>
            </ul></small>
            </td>

            </tr></table>
            <br/>

            <table class="table tableL3 tablesorter" id='sizetable'>
                <thead>
	                <tr>
	                    <th>Name</th>
	                    <th>Type</th>
                        <th>Count</th>
	                    <th class='min-max-header'>Row Min</th>
	                    <th class='min-max-header'>Row Max</th>
	                    <th class='min-max-header'>Index Min</th>
	                    <th class='min-max-header'>Index Max</th>
	                    <th class='min-max-header'>Table Min</th>
	                    <th class='min-max-header'>Table Max</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class='primaryrow'><td class='table-view-name' id='s-size-1'>area_code_state</td>
<td><span class='label label l-Table'>Table</span></td>
<td><div class='ecount'><input type='text' class='form-control count-input' id='s-size-1-count' onblur='sizes_update_all();' value='1000' class='form-control' placeholder='.ecount'></input>
</div></td>
<td id='s-size-1-rmin' class='right-cell'>11</td>
<td id='s-size-1-rmax' class='right-cell'>11</td>
<td id='s-size-1-imin' class='right-cell'>42</td>
<td id='s-size-1-imax' class='right-cell'>42</td>
<td id='s-size-1-tmin' class='right-cell calculated-cell'>53000</td>
<td id='s-size-1-tmax' class='right-cell calculated-cell'>53000</td>
</tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='6' id='s-size-1--dropdown'>
<p>MISSING DDL</p>
    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Uniqueness</th></tr></thead>
    <tbody>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-area_code_state-voltdb_autogen_constraint_idx_pk_area_code_state--icon' class='icon-chevron-right'></i> <a href='#' id='s-area_code_state-voltdb_autogen_constraint_idx_pk_area_code_state' class='togglex'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_AREA_CODE_STATE</a></td><td>BALANCED_TREE</td><td>AREA_CODE</td><td><span class='label label-important l-Unique'>Unique</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-area_code_state-voltdb_autogen_constraint_idx_pk_area_code_state--dropdown'>
<p>Used by procedures: <a href='#p-Vote'>Vote</a></p></td></tr>
    </tbody>
    </table>
</td></tr>
<tr class='primaryrow'><td class='table-view-name' id='s-size-2'>contestants</td>
<td><span class='label label l-Table'>Table</span></td>
<td><div class='ecount'><input type='text' class='form-control count-input' id='s-size-2-count' onblur='sizes_update_all();' value='1000' class='form-control' placeholder='.ecount'></input>
</div></td>
<td id='s-size-2-rmin' class='right-cell'>100</td>
<td id='s-size-2-rmax' class='right-cell'>292</td>
<td id='s-size-2-imin' class='right-cell'>44</td>
<td id='s-size-2-imax' class='right-cell'>44</td>
<td id='s-size-2-tmin' class='right-cell calculated-cell'>144000</td>
<td id='s-size-2-tmax' class='right-cell calculated-cell'>336000</td>
</tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='6' id='s-size-2--dropdown'>
<p>MISSING DDL</p>
    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Uniqueness</th></tr></thead>
    <tbody>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-contestants-voltdb_autogen_constraint_idx_pk_contestants--icon' class='icon-chevron-right'></i> <a href='#' id='s-contestants-voltdb_autogen_constraint_idx_pk_contestants' class='togglex'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_CONTESTANTS</a></td><td>BALANCED_TREE</td><td>CONTESTANT_NUMBER</td><td><span class='label label-important l-Unique'>Unique</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-contestants-voltdb_autogen_constraint_idx_pk_contestants--dropdown'>
<p>Used by procedures: <a href='#p-Results'>Results</a>, <a href='#p-Vote'>Vote</a></p></td></tr>
    </tbody>
    </table>
</td></tr>
<tr class='primaryrow'><td class='table-view-name' id='s-size-3'>votes</td>
<td><span class='label label l-Table'>Table</span></td>
<td><div class='ecount'><input type='text' class='form-control count-input' id='s-size-3-count' onblur='sizes_update_all();' value='1000' class='form-control' placeholder='.ecount'></input>
</div></td>
<td id='s-size-3-rmin' class='right-cell'>21</td>
<td id='s-size-3-rmax' class='right-cell'>21</td>
<td id='s-size-3-imin' class='right-cell'>0</td>
<td id='s-size-3-imax' class='right-cell'>0</td>
<td id='s-size-3-tmin' class='right-cell calculated-cell'>21000</td>
<td id='s-size-3-tmax' class='right-cell calculated-cell'>21000</td>
</tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='6' id='s-size-3--dropdown'>
<p>MISSING DDL</p>
<p>No indexes defined on table.</p>
</td></tr>
<tr class='primaryrow'><td class='table-view-name' id='s-size-4'>v_votes_by_contestant_number_state</td>
<td><span class='label label-info l-Materialized_View'>Materialized View</span></td>
<td><div class='ecount'><input type='text' class='form-control count-input' id='s-size-4-count' onblur='sizes_update_all();' value='1000' class='form-control' placeholder='.ecount'></input>
</div></td>
<td id='s-size-4-rmin' class='right-cell'>17</td>
<td id='s-size-4-rmax' class='right-cell'>17</td>
<td id='s-size-4-imin' class='right-cell'>53</td>
<td id='s-size-4-imax' class='right-cell'>53</td>
<td id='s-size-4-tmin' class='right-cell calculated-cell'>70000</td>
<td id='s-size-4-tmax' class='right-cell calculated-cell'>70000</td>
</tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='6' id='s-size-4--dropdown'>
<p><pre>SELECT CONTESTANT_NUMBER,STATE,COUNT(*)FROM VOTES GROUP BY CONTESTANT_NUMBER,STATE</pre></p>
    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Uniqueness</th></tr></thead>
    <tbody>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-v_votes_by_contestant_number_state-matview_pk_index--icon' class='icon-chevron-right'></i> <a href='#' id='s-v_votes_by_contestant_number_state-matview_pk_index' class='togglex'>MATVIEW_PK_INDEX</a></td><td>BALANCED_TREE</td><td>CONTESTANT_NUMBER, STATE</td><td><span class='label label-important l-Unique'>Unique</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-v_votes_by_contestant_number_state-matview_pk_index--dropdown'>
<p>Used by procedures: <a href='#p-ContestantWinningStates'>ContestantWinningStates</a>, <a href='#p-GetStateHeatmap'>GetStateHeatmap</a></p></td></tr>
    </tbody>
    </table>
</td></tr>
<tr class='primaryrow'><td class='table-view-name' id='s-size-5'>v_votes_by_phone_number</td>
<td><span class='label label-info l-Materialized_View'>Materialized View</span></td>
<td><div class='ecount'><input type='text' class='form-control count-input' id='s-size-5-count' onblur='sizes_update_all();' value='1000' class='form-control' placeholder='.ecount'></input>
</div></td>
<td id='s-size-5-rmin' class='right-cell'>12</td>
<td id='s-size-5-rmax' class='right-cell'>12</td>
<td id='s-size-5-imin' class='right-cell'>48</td>
<td id='s-size-5-imax' class='right-cell'>48</td>
<td id='s-size-5-tmin' class='right-cell calculated-cell'>60000</td>
<td id='s-size-5-tmax' class='right-cell calculated-cell'>60000</td>
</tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='6' id='s-size-5--dropdown'>
<p><pre>SELECT PHONE_NUMBER,COUNT(*)FROM VOTES GROUP BY PHONE_NUMBER</pre></p>
    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Uniqueness</th></tr></thead>
    <tbody>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-v_votes_by_phone_number-matview_pk_index--icon' class='icon-chevron-right'></i> <a href='#' id='s-v_votes_by_phone_number-matview_pk_index' class='togglex'>MATVIEW_PK_INDEX</a></td><td>BALANCED_TREE</td><td>PHONE_NUMBER</td><td><span class='label label-important l-Unique'>Unique</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-v_votes_by_phone_number-matview_pk_index--dropdown'>
<p>Used by procedures: <a href='#p-Vote'>Vote</a></p></td></tr>
    </tbody>
    </table>
</td></tr>

                </tbody>
            </table>
            <br/>

            <h4>Size Analysis Summary</h4>
            <table class='table size-summary-table'>
<tr><td id='s-size-summary-table-count' class='right-cell'>3</td><td>tables whose row data  is expected to use between&nbsp;</td><td id='s-size-summary-table-min' class='right-cell calculated-cell'>132000</td><td>&nbsp;and&nbsp;</td><td id='s-size-summary-table-max' class='right-cell calculated-cell'>324000</td><td>&nbsp; of memory.&nbsp;</td></tr>
<tr><td id='s-size-summary-view-count' class='right-cell'>2</td><td>materialized views whose row data  is expected to use about&nbsp;</td><td id='s-size-summary-view-min' class='right-cell calculated-cell'>29000</td><td colspan='3'>&nbsp; of memory.&nbsp;</td></tr>
<tr><td id='s-size-summary-index-count' class='right-cell'>4</td><td>indexes whose key data and overhead  is expected to use about&nbsp;</td><td id='s-size-summary-index-min' class='right-cell calculated-cell'>187</td><td colspan='3'>&nbsp; of memory.&nbsp;</td></tr>
<tr><td colspan='6'>&nbsp;</td></tr>
<tr><td colspan='2'><b>Total user data is expected to use between</b>&nbsp;</td><td id='s-size-summary-total-min' class='right-cell calculated-cell'>161187</td><td>&nbsp;<b>and</b>&nbsp;</td><td id='s-size-summary-total-max' class='right-cell calculated-cell'>353187</td><td>&nbsp<b>of memory.</b></td></tr>
</table>


        </div>

      <hr>

      <footer>
        <div class='row'>
        <div class='span6 text-left'>
            <a href='http://voltdb.com/docs'><i class='icon-book'></i> VoltDB Documentation</a>
        </div>
        <div class='span6 text-right'>
            Generated by VoltDB 4.5 on 28 Jul 2014 20:21:15 GMT+00:00
        </div>
        </div>
      </footer>

    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://assets.voltdb.com/get.py?a=342E352C31343036353738383735383938&b=e&f=jquery-1.9.1.min.js"></script>
    <script src="http://assets.voltdb.com/b/js/bootstrap.js"></script>
    <script src="http://assets.voltdb.com/t/js/jquery.tablesorter.js"></script>
    <script src="http://assets.voltdb.com/t/js/jquery.tablesorter.widgets.js"></script>

    <script>
        function navigate(hash) {
            console.log(hash);
            if (hash.length == 0) hash = '#o';
            hash = hash.toLowerCase();
            var anchor = hash.substring(1);
            var parts = anchor.split('-');
            var toppage = parts[0];

            // reset everything
            $('.tablesorter-childRow>td').hide();
            $('.dropdown2>td').hide();
            $('.primaryrow>td').show();
            $('.primaryrow2>td').show();
            // make arrows point the right way
            $('.icon-chevron-down').removeClass('icon-chevron-down').addClass('icon-chevron-right');
            $('.primaryrow').css('background-color', '#ffffff');

            $('.nav-collapse ul li').removeClass('active');
            $('div.reportpage').hide();
            $('#' + toppage + '-nav').addClass('active');
            $('#' + toppage).show();

            if (parts.length > 1) {
                var primary = parts[1];
                console.log("primary = " + primary);

                var iconid = "#" + toppage + "-" + primary + "--icon";
                var dropdownid = "#" + toppage + "-" + primary + "--dropdown";

                $(dropdownid).show();
                $(iconid).parentsUntil("tbody", 'tr').css('background-color', '#dddddd');
                $(iconid).removeClass('icon-chevron-right').addClass('icon-chevron-down');

                if (parts.length > 2) {
                    var secondary = parts[2];
                    console.log("secondary = " + secondary);

                    var iconid2 = "#" + toppage + "-" + primary + "-" + secondary + "--icon";
                    var dropdownid2 = "#" + toppage + "-" + primary + "-" + secondary + "--dropdown";

                    $(dropdownid2).show();
                    $(iconid2).removeClass('icon-chevron-right').addClass('icon-chevron-down');
                }
            }

            location.hash = hash;
        }

        $( document ).ready(function() {
            console.log("ready!");

            $.extend($.tablesorter.themes.bootstrap, {
                // these classes are added to the table. To see other table classes available,
                // look here: http://twitter.github.com/bootstrap/base-css.html#tables
                table      : 'table table-bordered',
                header     : 'bootstrap-header', // give the header a gradient background
                footerRow  : '',
                footerCells: '',
                icons      : '', // add "icon-white" to make them white; this icon class is added to the <i> in the header
                sortNone   : 'bootstrap-icon-unsorted',
                sortAsc    : 'icon-chevron-up',
                sortDesc   : 'icon-chevron-down',
                active     : '', // applied when column is sorted
                hover      : '', // use custom css here - bootstrap class may not override it
                filterRow  : '', // filter row class
                even       : '', // odd row zebra striping
                odd        : ''  // even row zebra striping
            });

            $(".tableL1").tablesorter({
                theme : 'bootstrap',
                widthFixed: true,
                headerTemplate : '{content} {icon}',
                widgets : [ "uitheme", "filter", "stickyHeaders" ],
                widgetOptions : {
                    filter_reset : ".reset",
                    filter_hideFilters : true
                },
                cssChildRow: "tablesorter-childRow"
            });

            $('.tableL1').delegate('.togglex', 'click' ,function(){
                var id = $(this).attr('id');
                var toppage = id.split('-')[0];
                var dropdownid = "#" + id + "--dropdown";

                var hash = "#" + id;
                if ($(dropdownid).is(":visible")) {
                    hash = "#" + toppage;
                }
                history.replaceState(null, null, hash);
                navigate(hash);
                return false;
            });

            $('.tableL2').delegate('.togglex', 'click' ,function(){
                var id = $(this).attr('id');

                console.log("l2click: " + id);

                var parts = id.split('-');
                var toppage = parts[0];
                var primary = parts[1];
                var dropdownid = "#" + id + "--dropdown";

                var hash = "#" + id;
                if ($(dropdownid).is(":visible")) {
                    console.log("l2clickVISIBLE");
                    hash = "#" + toppage + "-" + primary;
                }
                else {
                    console.log("not visible");
                }
                history.replaceState(null, null, hash);
                navigate(hash);
                return false;
            });

            $(".tableL3").tablesorter({
                theme : 'bootstrap',
                widthFixed: true,
                headerTemplate : '{content} {icon}',
                widgets : [ "uitheme", "filter", "stickyHeaders" ],
                widgetOptions : {
                    filter_reset : ".reset",
                    filter_hideFilters : true
                },
                cssChildRow: "tablesorter-childRow"
            });

            $('.tableL3').delegate('.togglex', 'click' ,function(){
                var id = $(this).attr('id');
                var toppage = id.split('-')[0];
                var dropdownid = "#" + id + "--dropdown";

                var hash = "#" + id;
                if ($(dropdownid).is(":visible")) {
                    hash = "#" + toppage;
                }
                history.replaceState(null, null, hash);
                navigate(hash);
                return false;
            });

            navigate($(location).attr('hash'));

            $(window).bind('hashchange', function () { //detect hash change
                navigate(window.location.hash);
            });

            // tooltips
            $('.l-Table').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'Persistent Relational Table'});
            $('.l-Materialized_View').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'Views are always materialized and incrementally maintained.'});
            $('.l-Replicated').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'Table data is present at all partitions. Updates are a multi-partition operation.'});
            $('.l-Partitioned').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'Table data is partitioned on the hash of a column. Data is replicated to k+1 hosts.'});
            $('.l-Has-PKey').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'The table has a primary key and corresponding index.'});
            $('.l-No-PKey').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'The table has no primary key. Deletes and updates will require scans.'});
            $('.l-Read').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'This procedure doesn\'t alter the content of the database.'});
            $('.l-Write').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'This procedure can alter the contents of the database.'});
            $('.l-Single').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'This procedure only runs at one partition.'});
            $('.l-Multi').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'This procedure runs at all partitions, which can affect performance.'});
            $('.l-Java').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'This procedure uses Java code for logic.'});
            $('.l-Single-Stmt').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'This procedure was defined in the DDL file as a single SQL statement.'});
            $('.l-Scans').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'This procedure or statement might be using full table scans. While this isn\'t ' +
                'always bad, it\'s possible adding an index could improve performance.'});
            $('.l-Determinism').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'This statement or procedure could potentially use SQL that outputs non-deterministic ' +
                'results which then may be used to modify state. If this happens, the cluster will ' +
                'halt. Consider adding an ORDER BY clause to make a SELECT statement deterministic.'});

            sizes_update_all();
        });

        function numberWithCommas(n) {
            n = Math.round(n / 1000.0);
            var parts=n.toString().split(".");
            return parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",") + (parts[1] ? "." + parts[1] : "") + " K";
        }

        function size_table_element(name, nrow) {
        	var id = "s-size-".concat(nrow, '-', name);
            var e = document.getElementById(id);
            return e;
        }

        function size_table_value(name, nrow) {
        	var elem = size_table_element(name, nrow);
        	var value = Math.floor(name == "count" ? elem.value : elem.innerHTML);
        	return value;
        }

        function size_table_update(name, nrow, value) {
            var elem = size_table_element(name, nrow);
            if (elem != null) {
                elem.innerHTML = numberWithCommas(value);
            }
        }

        function size_summary_element(type, name) {
            var id = "s-size-summary-".concat(type, '-', name);
            var e = document.getElementById(id);
            return e;
        }

        function size_summary_value(type, name) {
            var elem = size_summary_element(type, name);
            var value = Math.floor(elem.innerHTML);
            return value;
        }

        function size_summary_update(type, name, value) {
            var elem = size_summary_element(type, name);
            if (elem != null) {
                elem.innerHTML = numberWithCommas(value);
            }
        }

        function sizes_get_row(nrow) {
            return {
                "count": size_table_value("count", nrow),
                "rmin": size_table_value("rmin", nrow),
                "rmax": size_table_value("rmax", nrow),
                "imin": size_table_value("imin", nrow),
                "imax": size_table_value("imax", nrow),
                "tmin": size_table_value("tmin", nrow),
                "tmax": size_table_value("tmax", nrow)
            };
        }

        // Do the size worksheet calculations for a single row.
        function sizes_update_row(nrow) {
        	var v = sizes_get_row(nrow);
            size_table_update("tmin", nrow, (v["rmin"] + v["imin"]) * v["count"]);
            size_table_update("tmax", nrow, (v["rmax"] + v["imax"]) * v["count"]);
        }

        /*
         * Update the size worksheet summary.
         */
        function sizes_update_summary() {
        	var ntables = size_summary_value("table", "count");
            var nviews = size_summary_value("view", "count");
            var nrow = 0;
            var tmin = 0;
            var tmax = 0;
            var vmin = 0;
            var vmax = 0;
            var imin = 0;
            var imax = 0;
        	for (var ntable = 0; ntable < ntables; ++ntable) {
                var v = sizes_get_row(++nrow);
                tmin += (v["rmin"] * v["count"]);
                tmax += (v["rmax"] * v["count"]);
                imin += (v["imin"] * v["count"]);
                imax += (v["imax"] * v["count"]);
        	}
            for (var nview = 0; nview < nviews; ++nview) {
                var v = sizes_get_row(++nrow);
                vmin += (v["rmin"] * v["count"]);
                vmax += (v["rmax"] * v["count"]);
                imin += (v["imin"] * v["count"]);
                imax += (v["imax"] * v["count"]);
            }
            size_summary_update("table", "min", tmin);
            size_summary_update("table", "max", tmax);
            size_summary_update("view", "min", vmin);
            size_summary_update("view", "max", vmax);
            size_summary_update("index", "min", imin);
            size_summary_update("index", "max", imax);
            size_summary_update("total", "min", tmin + vmin + imin);
            size_summary_update("total", "max", tmax + vmax + imax);
        }

        /*
         * Do all the size worksheet calculations at once.
         * Call sizes_update_row() when a single row is changed.
         */
        function sizes_update_all() {
            // Use the summary counts to determine the number of table rows.
            var ntables = size_summary_value("table", "count");
            var nviews = size_summary_value("view", "count");
            for (var nrow = 1; nrow <= ntables + nviews; ++nrow) {
                sizes_update_row(nrow);
            }
            sizes_update_summary();
        }

    </script>

  </body>
</html>
