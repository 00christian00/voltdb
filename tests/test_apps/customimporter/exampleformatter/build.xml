<project default="build">
    <path id='project.classpath'>
        <!-- Replace this with the path to the VoltDB jars -->
        <fileset dir='/home/pshaw/voltdb'>
            <include name='lib/*.jar' />
            <include name='voltdb/*.jar' />
        </fileset>
    </path>

    <target name="build" depends="clean, dist, formatter"/>

    <target name="clean">
        <delete dir="obj"/>
        <delete file="exampleformatter.jar"/>
    </target>

    <target name="dist">
        <mkdir dir="obj"/>
        <javac srcdir="src" destdir="obj">
            <classpath refid="project.classpath"/>
        </javac>
    </target>

    <target name="formatter">
        <jar destfile="exampleformatter.jar" basedir="obj">
            <include name="exampleformatter/ExampleFormatter.class"/>
            <include name="exampleformatter/ExampleFormatterFactory.class"/>
            <manifest>
                <attribute name="Bundle-Activator" value="exampleformatter.ExampleFormatterFactory" />
                <attribute name="Bundle-ManifestVersion" value="2" />
                <attribute name="Bundle-Name" value="Example Formatter OSGi Bundle" />
                <attribute name="Bundle-SymbolicName" value="ExampleFormatter" />
                <attribute name="Bundle-Version" value="1.0.0" />
                <attribute name="DynamicImport-Package" value="*" />
            </manifest>
        </jar>
    </target>
</project>
